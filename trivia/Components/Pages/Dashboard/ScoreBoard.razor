
<section class="play-page @(GameState.Stage > -1 ? "show" : "")">
    <h3>Dashboard (Score Board)</h3>

   
    @* Game Left: 
    <div style="width:@(
        GameState.SecondsSinceGameStart == 0 ? 100 : 
        (1.0 - ((double) GameState.SecondsSinceGameStart / (double) (GameState.Questions.Count * GameState.SecondsPerStage))) * 100)%" class="progress">
    </div> *@

    @foreach (var player in this.GameState.Players.Where(x => !string.IsNullOrWhiteSpace(x.Name) && x.Online))
    {
        <div>
            <span>@player.Name</span>
            <strong>@player.Score.FlatScore</strong>
            <strong>@player.Score.ScoreWithPanelty</strong>
        </div>
        <br/>
    }

    @foreach (var team in this.GameState.TeamScore.Keys)
    {
        <div>
            <span>@team</span>
            <strong>@this.GameState.TeamScore[team].FlatScore</strong>
            <strong>@this.GameState.TeamScore[team].ScoreWithPanelty</strong>
        </div>
        <br />
    }

    <div>
        <span>Crowd:</span>
        <strong>@this.GameState.WisdomOfTheCrowd.FlatScore</strong>
        <strong>@this.GameState.WisdomOfTheCrowd.ScoreWithPanelty</strong>
    </div>
</section>

@code {
    [Parameter]
    public State.Game GameState { get; set; } = default!;
}